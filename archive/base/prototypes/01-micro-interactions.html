<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>01 — Micro-interactions | Kyle DS Prototypes</title>

  <!-- Inter Variable Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&display=swap" rel="stylesheet">

  <style>
    /* ============================================
       KYLE DS — Design Tokens
       All colors in oklch. 8px grid spacing.
       ============================================ */

    :root {
      /* Tier 1: Primitives — Warm neutrals (hue ~90) */
      --primitive-neutral-50:  oklch(0.978 0.005 90);
      --primitive-neutral-100: oklch(0.958 0.006 90);
      --primitive-neutral-200: oklch(0.905 0.007 90);
      --primitive-neutral-300: oklch(0.855 0.008 90);
      --primitive-neutral-400: oklch(0.755 0.010 90);
      --primitive-neutral-500: oklch(0.610 0.012 90);
      --primitive-neutral-600: oklch(0.490 0.010 90);
      --primitive-neutral-700: oklch(0.360 0.010 90);
      --primitive-neutral-800: oklch(0.240 0.008 90);
      --primitive-neutral-900: oklch(0.170 0.007 90);
      --primitive-neutral-950: oklch(0.135 0.008 90);

      /* Tier 1: Accent — vivid, chroma >= 0.20 */
      --primitive-blue-400: oklch(0.630 0.200 260);
      --primitive-blue-500: oklch(0.550 0.220 260);
      --primitive-blue-600: oklch(0.480 0.220 260);

      /* Tier 2: Semantic — Light mode */
      --bg-page:        var(--primitive-neutral-50);
      --bg-surface:     oklch(0.995 0.002 90);
      --bg-muted:       var(--primitive-neutral-100);
      --text-primary:   var(--primitive-neutral-950);
      --text-secondary: var(--primitive-neutral-600);
      --text-muted:     var(--primitive-neutral-400);
      --border-default: var(--primitive-neutral-200);
      --border-strong:  var(--primitive-neutral-300);
      --accent-blue:   var(--primitive-blue-500);
      --accent-blue-hover:   var(--primitive-blue-600);
      --accent-blue-subtle:  oklch(0.920 0.045 260);
      --text-on-accent: oklch(0.995 0.002 90);

      /* Tier 2: Feedback colors */
      --accent-green: oklch(0.580 0.180 155);
      --accent-green-subtle: oklch(0.920 0.045 155);
      --accent-red: oklch(0.58 0.22 25);
      --accent-red-subtle: oklch(0.95 0.04 25);
      --accent-yellow: oklch(0.850 0.180 90);
      --accent-yellow-subtle: oklch(0.960 0.050 90);

      /* Motion tokens */
      --motion-instant: 100ms;
      --motion-fast:    160ms;
      --motion-base:    240ms;
      --motion-slow:    360ms;
      --ease-smooth:  cubic-bezier(0.22, 1, 0.36, 1);
      --ease-out:     cubic-bezier(0.16, 1, 0.3, 1);
      --ease-exit:      cubic-bezier(0.4, 0, 1, 1);
      --ease-bounce:    cubic-bezier(0.34, 1.56, 0.64, 1);

      /* Spacing (8px grid) */
      --space-1: 4px;
      --space-2: 8px;
      --space-3: 12px;
      --space-4: 16px;
      --space-6: 24px;
      --space-8: 32px;
      --space-12: 48px;
      --space-16: 64px;
      --space-20: 80px;

      /* Radius */
      --radius-sm: 6px;
      --radius-md: 10px;
      --radius-lg: 12px;
      --radius-xl: 16px;
      --radius-full: 9999px;

      /* Shadows — overlays only */
      --shadow-md: 0 4px 24px oklch(0 0 0 / 0.08);
    }

    /* Dark mode overrides */
    [data-theme="dark"] {
      --bg-page:        oklch(0.135 0.010 90);
      --bg-surface:     oklch(0.160 0.012 90);
      --bg-muted:       oklch(0.205 0.012 90);
      --text-primary:   oklch(0.95 0.003 90);
      --text-secondary: oklch(0.65 0.008 90);
      --text-muted:     oklch(0.45 0.006 90);
      --border-default: oklch(0.260 0.012 90);
      --border-strong:  oklch(0.330 0.012 90);
      --accent-blue:   oklch(0.670 0.200 260);
      --accent-blue-hover:   oklch(0.720 0.190 260);
      --accent-blue-subtle:  oklch(0.250 0.060 260);
      --text-on-accent: oklch(0.995 0.002 90);
      --accent-green:  oklch(0.680 0.170 155);
      --accent-green-subtle: oklch(0.250 0.060 155);
      --accent-red:    oklch(0.68 0.20 25);
      --accent-red-subtle:   oklch(0.22 0.04 25);
      --accent-yellow: oklch(0.850 0.180 90);
      --accent-yellow-subtle: oklch(0.960 0.050 90);
      --shadow-md: 0 4px 24px oklch(0 0 0 / 0.3);
    }

    /* ============================================
       Base Styles
       ============================================ */

    *, *::before, *::after {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', system-ui, -apple-system, sans-serif;
      font-feature-settings: "cv02", "cv03", "cv04", "cv11";
      background: var(--bg-page);
      color: var(--text-primary);
      line-height: 1.6;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* ============================================
       Micro-interaction Animations
       Only active when user hasn't opted out of motion
       ============================================ */

    @media (prefers-reduced-motion: no-preference) {
      /* Button hover/press */
      .btn {
        transition:
          background var(--motion-fast) ease-out,
          border-color var(--motion-fast) ease-out,
          color var(--motion-fast) ease-out,
          transform var(--motion-instant) ease-out,
          box-shadow var(--motion-fast) ease-out;
      }

      .btn:active {
        transform: scale(0.97);
      }

      /* Input focus */
      .input,
      .textarea {
        transition:
          border-color var(--motion-fast) ease-out,
          outline-color var(--motion-fast) ease-out;
      }

      /* Toggle switch knob */
      .toggle-knob {
        transition: transform var(--motion-fast) var(--ease-bounce);
      }

      /* Checkbox */
      .checkbox-icon {
        transition:
          transform var(--motion-fast) var(--ease-bounce),
          opacity var(--motion-fast) ease-out;
      }

      /* Success checkmark */
      @keyframes checkmark-draw {
        from { stroke-dashoffset: 24; }
        to   { stroke-dashoffset: 0; }
      }

      @keyframes scale-in {
        from { transform: scale(0.8); opacity: 0; }
        to   { transform: scale(1); opacity: 1; }
      }

      /* Error shake */
      @keyframes shake {
        0%, 100% { transform: translateX(0); }
        20%      { transform: translateX(-6px); }
        40%      { transform: translateX(5px); }
        60%      { transform: translateX(-4px); }
        80%      { transform: translateX(2px); }
      }

      .feedback-enter {
        animation: scale-in var(--motion-fast) var(--ease-out) forwards;
      }

      .shake {
        animation: shake var(--motion-base) ease-out;
      }
    }

    /* ============================================
       Layout
       ============================================ */

    .page {
      max-width: 560px;
      margin: 0 auto;
      padding: var(--space-12) var(--space-6);
    }

    .page-header {
      margin-bottom: var(--space-12);
    }

    .page-title {
      font-size: 1.75rem;
      font-weight: 650;
      letter-spacing: -0.02em;
      line-height: 1.2;
      margin-bottom: var(--space-2);
    }

    .page-description {
      color: var(--text-secondary);
      font-size: 0.9375rem;
    }

    /* ============================================
       Card
       ============================================ */

    .card {
      background: var(--bg-surface);
      border: 1px solid var(--border-default);
      border-radius: var(--radius-md);
      padding: var(--space-6);
      margin-bottom: var(--space-6);
    }

    .card-title {
      font-size: 0.8125rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      color: var(--text-secondary);
      margin-bottom: var(--space-4);
    }

    /* ============================================
       Form Elements
       ============================================ */

    .form-group {
      margin-bottom: var(--space-6);
    }

    .form-group:last-child {
      margin-bottom: 0;
    }

    .label {
      display: block;
      font-size: 0.875rem;
      font-weight: 500;
      margin-bottom: var(--space-2);
      color: var(--text-primary);
    }

    .label-description {
      font-weight: 400;
      color: var(--text-secondary);
      font-size: 0.8125rem;
      margin-top: var(--space-1);
      display: block;
    }

    .input,
    .textarea {
      width: 100%;
      padding: var(--space-2) var(--space-3);
      font-family: inherit;
      font-size: 0.9375rem;
      line-height: 1.5;
      color: var(--text-primary);
      background: var(--bg-page);
      border: 1px solid var(--border-default);
      border-radius: var(--radius-sm);
      outline: 2px solid transparent;
      outline-offset: 1px;
    }

    .input::placeholder,
    .textarea::placeholder {
      color: var(--text-muted);
    }

    .input:hover,
    .textarea:hover {
      border-color: var(--border-strong);
    }

    .input:focus-visible,
    .textarea:focus-visible {
      border-color: var(--accent-blue);
      outline-color: var(--accent-blue-subtle);
    }

    .textarea {
      resize: vertical;
      min-height: 80px;
    }

    /* ============================================
       Buttons
       ============================================ */

    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: var(--space-2);
      padding: var(--space-2) var(--space-4);
      font-family: inherit;
      font-size: 0.875rem;
      font-weight: 500;
      line-height: 1.5;
      border-radius: var(--radius-sm);
      border: 1px solid transparent;
      cursor: pointer;
      user-select: none;
    }

    .btn:focus-visible {
      outline: 2px solid var(--accent-blue);
      outline-offset: 2px;
    }

    .btn-primary {
      background: var(--accent-blue);
      color: var(--text-on-accent);
      border-color: var(--accent-blue);
    }

    .btn-primary:hover {
      background: var(--accent-blue-hover);
      border-color: var(--accent-blue-hover);
    }

    .btn-secondary {
      background: var(--bg-surface);
      color: var(--text-primary);
      border-color: var(--border-default);
    }

    .btn-secondary:hover {
      background: var(--bg-muted);
      border-color: var(--border-strong);
    }

    .btn-ghost {
      background: transparent;
      color: var(--text-secondary);
      border-color: transparent;
    }

    .btn-ghost:hover {
      background: var(--bg-muted);
      color: var(--text-primary);
    }

    .btn-danger {
      background: var(--accent-red);
      color: var(--text-on-accent);
      border-color: var(--accent-red);
    }

    .btn-danger:hover {
      background: oklch(0.52 0.22 25);
    }

    [data-theme="dark"] .btn-danger:hover {
      background: oklch(0.62 0.18 25);
    }

    .btn-sm {
      padding: var(--space-1) var(--space-3);
      font-size: 0.8125rem;
    }

    .btn-icon {
      padding: var(--space-2);
      aspect-ratio: 1;
    }

    /* Button group */
    .btn-group {
      display: flex;
      gap: var(--space-3);
      align-items: center;
    }

    /* ============================================
       Toggle Switch — CSS only
       ============================================ */

    .toggle-wrapper {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: var(--space-4);
    }

    .toggle-label {
      flex: 1;
    }

    .toggle {
      position: relative;
      width: 44px;
      height: 24px;
      flex-shrink: 0;
    }

    .toggle input {
      position: absolute;
      opacity: 0;
      width: 100%;
      height: 100%;
      cursor: pointer;
      z-index: 1;
      margin: 0;
    }

    .toggle-track {
      position: absolute;
      inset: 0;
      background: var(--border-strong);
      border-radius: var(--radius-full);
    }

    .toggle-knob {
      position: absolute;
      top: 2px;
      left: 2px;
      width: 20px;
      height: 20px;
      background: var(--bg-surface);
      border-radius: 50%;
      box-shadow: 0 1px 3px oklch(0 0 0 / 0.1);
    }

    .toggle input:checked ~ .toggle-track {
      background: var(--accent-blue);
    }

    .toggle input:checked ~ .toggle-knob {
      transform: translateX(20px);
    }

    .toggle input:focus-visible ~ .toggle-track {
      outline: 2px solid var(--accent-blue);
      outline-offset: 2px;
    }

    /* ============================================
       Checkbox — CSS only
       ============================================ */

    .checkbox-wrapper {
      display: flex;
      align-items: flex-start;
      gap: var(--space-3);
      cursor: pointer;
    }

    .checkbox {
      position: relative;
      width: 20px;
      height: 20px;
      flex-shrink: 0;
      margin-top: 2px;
    }

    .checkbox input {
      position: absolute;
      opacity: 0;
      width: 100%;
      height: 100%;
      cursor: pointer;
      z-index: 1;
      margin: 0;
    }

    .checkbox-box {
      position: absolute;
      inset: 0;
      background: var(--bg-page);
      border: 1.5px solid var(--border-strong);
      border-radius: 4px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .checkbox-icon {
      opacity: 0;
      transform: scale(0.5);
    }

    .checkbox input:checked ~ .checkbox-box {
      background: var(--accent-blue);
      border-color: var(--accent-blue);
    }

    .checkbox input:checked ~ .checkbox-box .checkbox-icon {
      opacity: 1;
      transform: scale(1);
    }

    .checkbox input:focus-visible ~ .checkbox-box {
      outline: 2px solid var(--accent-blue);
      outline-offset: 2px;
    }

    .checkbox-text {
      font-size: 0.9375rem;
      line-height: 1.5;
    }

    .checkbox-description {
      color: var(--text-secondary);
      font-size: 0.8125rem;
      margin-top: 2px;
    }

    /* ============================================
       Feedback States
       ============================================ */

    .feedback-message {
      display: flex;
      align-items: center;
      gap: var(--space-2);
      padding: var(--space-3) var(--space-4);
      border-radius: var(--radius-sm);
      font-size: 0.875rem;
      font-weight: 500;
      margin-top: var(--space-4);
    }

    .feedback-success {
      background: var(--accent-green-subtle);
      color: var(--accent-green);
    }

    .feedback-error {
      background: var(--accent-red-subtle);
      color: var(--accent-red);
    }

    .feedback-message svg {
      flex-shrink: 0;
    }

    .feedback-message.hidden {
      display: none;
    }

    /* ============================================
       Divider
       ============================================ */

    .divider {
      border: none;
      border-top: 1px solid var(--border-default);
      margin: var(--space-6) 0;
    }

    /* ============================================
       Theme Toggle (top-right)
       ============================================ */

    .theme-toggle {
      position: fixed;
      top: var(--space-4);
      right: var(--space-4);
      z-index: 100;
      background: var(--bg-surface);
      border: 1px solid var(--border-default);
      border-radius: var(--radius-full);
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      color: var(--text-secondary);
    }

    .theme-toggle:hover {
      border-color: var(--border-strong);
      color: var(--text-primary);
    }

    .theme-toggle:focus-visible {
      outline: 2px solid var(--accent-blue);
      outline-offset: 2px;
    }

    .theme-toggle .icon-sun,
    [data-theme="dark"] .theme-toggle .icon-moon { display: none; }
    [data-theme="dark"] .theme-toggle .icon-sun { display: block; }
    .theme-toggle .icon-moon { display: block; }

    /* ============================================
       Annotation Legend
       ============================================ */

    .legend {
      margin-top: var(--space-12);
      padding: var(--space-6);
      background: var(--bg-muted);
      border-radius: var(--radius-md);
      font-size: 0.8125rem;
      color: var(--text-secondary);
    }

    .legend h3 {
      font-size: 0.75rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.06em;
      color: var(--text-muted);
      margin-bottom: var(--space-3);
    }

    .legend-item {
      display: flex;
      gap: var(--space-3);
      padding: var(--space-2) 0;
      border-bottom: 1px solid var(--border-default);
    }

    .legend-item:last-child {
      border-bottom: none;
    }

    .legend-label {
      font-weight: 500;
      color: var(--text-primary);
      white-space: nowrap;
    }
  </style>
</head>
<body>

  <!-- Theme toggle -->
  <button class="theme-toggle" id="theme-toggle" aria-label="Toggle dark mode">
    <svg class="icon-sun" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
    <svg class="icon-moon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
  </button>

  <div class="page">

    <!-- Page Header -->
    <header class="page-header">
      <h1 class="page-title">Account Settings</h1>
      <p class="page-description">Manage your profile, notifications, and preferences.</p>
    </header>

    <!-- Section 1: Profile — Text inputs -->
    <!-- Design choice: Input focus uses accent color border + subtle accent outline.
         Transition is 160ms ease-out (fast token) for responsive feedback. -->
    <section class="card">
      <h2 class="card-title">Profile</h2>

      <div class="form-group">
        <label class="label" for="display-name">Display name</label>
        <input class="input" type="text" id="display-name" value="Kyle Snav" placeholder="Your name">
      </div>

      <div class="form-group">
        <label class="label" for="email">Email address</label>
        <input class="input" type="email" id="email" value="kyle@example.com" placeholder="you@example.com">
      </div>

      <div class="form-group">
        <label class="label" for="bio">Bio</label>
        <textarea class="textarea" id="bio" placeholder="Tell us about yourself">Building design systems and chasing good typography.</textarea>
      </div>
    </section>

    <!-- Section 2: Notifications — Toggle switches -->
    <!-- Design choice: Toggle uses a spring-like cubic-bezier (0.175, 0.885, 0.32, 1.275)
         for the knob movement. This slightly overshoots, creating a lively feel.
         Duration is 160ms (fast token). -->
    <section class="card">
      <h2 class="card-title">Notifications</h2>

      <div class="form-group">
        <div class="toggle-wrapper">
          <div class="toggle-label">
            <span class="label" style="margin-bottom: 0;">Email notifications</span>
            <span class="label-description">Receive updates about your projects via email.</span>
          </div>
          <div class="toggle">
            <input type="checkbox" id="toggle-email" checked>
            <span class="toggle-track"></span>
            <span class="toggle-knob"></span>
          </div>
        </div>
      </div>

      <hr class="divider">

      <div class="form-group">
        <div class="toggle-wrapper">
          <div class="toggle-label">
            <span class="label" style="margin-bottom: 0;">Push notifications</span>
            <span class="label-description">Get real-time alerts on your device.</span>
          </div>
          <div class="toggle">
            <input type="checkbox" id="toggle-push">
            <span class="toggle-track"></span>
            <span class="toggle-knob"></span>
          </div>
        </div>
      </div>

      <hr class="divider">

      <div class="form-group">
        <div class="toggle-wrapper">
          <div class="toggle-label">
            <span class="label" style="margin-bottom: 0;">Marketing emails</span>
            <span class="label-description">Occasional product updates and announcements.</span>
          </div>
          <div class="toggle">
            <input type="checkbox" id="toggle-marketing">
            <span class="toggle-track"></span>
            <span class="toggle-knob"></span>
          </div>
        </div>
      </div>
    </section>

    <!-- Section 3: Preferences — Checkboxes -->
    <!-- Design choice: Checkbox uses transform scale (0.5 → 1) with spring easing
         and opacity fade. The check icon is an SVG inside the box. -->
    <section class="card">
      <h2 class="card-title">Preferences</h2>

      <div class="form-group">
        <label class="checkbox-wrapper">
          <div class="checkbox">
            <input type="checkbox" checked>
            <span class="checkbox-box">
              <svg class="checkbox-icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="oklch(0.995 0.002 90)" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>
            </span>
          </div>
          <div>
            <span class="checkbox-text">Use relative dates</span>
            <span class="checkbox-description">Show "2 hours ago" instead of exact timestamps.</span>
          </div>
        </label>
      </div>

      <div class="form-group">
        <label class="checkbox-wrapper">
          <div class="checkbox">
            <input type="checkbox" checked>
            <span class="checkbox-box">
              <svg class="checkbox-icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="oklch(0.995 0.002 90)" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>
            </span>
          </div>
          <div>
            <span class="checkbox-text">Compact spacing</span>
            <span class="checkbox-description">Reduce whitespace in lists and tables.</span>
          </div>
        </label>
      </div>

      <div class="form-group">
        <label class="checkbox-wrapper">
          <div class="checkbox">
            <input type="checkbox">
            <span class="checkbox-box">
              <svg class="checkbox-icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="oklch(0.995 0.002 90)" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>
            </span>
          </div>
          <div>
            <span class="checkbox-text">Show keyboard shortcuts</span>
            <span class="checkbox-description">Display shortcut hints in menus and tooltips.</span>
          </div>
        </label>
      </div>
    </section>

    <!-- Section 4: Actions — Button variants + feedback states -->
    <!-- Design choice: Primary button uses accent color. Hover darkens (accent-hover token).
         Active press scales to 0.97 in 100ms (instant token).
         Success/error feedback uses dedicated oklch colors with subtle backgrounds. -->
    <section class="card">
      <h2 class="card-title">Actions</h2>

      <div class="form-group">
        <p class="label">Button variants</p>
        <div class="btn-group" style="flex-wrap: wrap;">
          <button class="btn btn-primary" id="btn-save">Save changes</button>
          <button class="btn btn-secondary">Cancel</button>
          <button class="btn btn-ghost">Reset</button>
          <button class="btn btn-danger btn-sm">Delete account</button>
        </div>
      </div>

      <hr class="divider">

      <div class="form-group">
        <p class="label">Feedback states</p>
        <span class="label-description">Click the buttons below to see success and error animations.</span>
        <div class="btn-group" style="margin-top: var(--space-3);">
          <button class="btn btn-primary btn-sm" id="btn-success">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>
            Simulate success
          </button>
          <button class="btn btn-secondary btn-sm" id="btn-error">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/></svg>
            Simulate error
          </button>
        </div>

        <div class="feedback-message feedback-success hidden" id="feedback-success">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
          Settings saved successfully.
        </div>

        <div class="feedback-message feedback-error hidden" id="feedback-error">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>
          Failed to save. Please check your connection and try again.
        </div>
      </div>
    </section>

    <!-- Annotation Legend -->
    <div class="legend">
      <h3>Animation Reference</h3>
      <div class="legend-item">
        <span class="legend-label">Button hover</span>
        <span>background 160ms ease-out (--motion-fast)</span>
      </div>
      <div class="legend-item">
        <span class="legend-label">Button press</span>
        <span>scale(0.97) 100ms ease-out (--motion-instant)</span>
      </div>
      <div class="legend-item">
        <span class="legend-label">Input focus</span>
        <span>border-color + outline 160ms ease-out</span>
      </div>
      <div class="legend-item">
        <span class="legend-label">Toggle knob</span>
        <span>translateX 160ms spring-like cubic-bezier(0.175, 0.885, 0.32, 1.275)</span>
      </div>
      <div class="legend-item">
        <span class="legend-label">Checkbox check</span>
        <span>scale + opacity 160ms spring easing</span>
      </div>
      <div class="legend-item">
        <span class="legend-label">Success feedback</span>
        <span>scale-in from 0.8, 160ms ease-in (--ease-out)</span>
      </div>
      <div class="legend-item">
        <span class="legend-label">Error shake</span>
        <span>horizontal oscillation 240ms ease-out (--motion-base)</span>
      </div>
    </div>

  </div>

  <script>
    // Theme toggle
    const themeToggle = document.getElementById('theme-toggle');
    themeToggle.addEventListener('click', () => {
      document.documentElement.dataset.theme = document.documentElement.dataset.theme === 'dark' ? 'light' : 'dark';
    });

    // Success feedback
    const btnSuccess = document.getElementById('btn-success');
    const feedbackSuccess = document.getElementById('feedback-success');
    btnSuccess.addEventListener('click', () => {
      feedbackSuccess.classList.remove('hidden', 'feedback-enter');
      // Force reflow to restart animation
      void feedbackSuccess.offsetWidth;
      feedbackSuccess.classList.add('feedback-enter');
      // Auto-hide after 3 seconds
      setTimeout(() => {
        feedbackSuccess.classList.add('hidden');
      }, 3000);
    });

    // Error feedback with shake
    const btnError = document.getElementById('btn-error');
    const feedbackError = document.getElementById('feedback-error');
    btnError.addEventListener('click', () => {
      // Show error message
      feedbackError.classList.remove('hidden', 'feedback-enter');
      void feedbackError.offsetWidth;
      feedbackError.classList.add('feedback-enter');

      // Shake the button
      btnError.classList.remove('shake');
      void btnError.offsetWidth;
      btnError.classList.add('shake');
      btnError.addEventListener('animationend', () => {
        btnError.classList.remove('shake');
      }, { once: true });

      // Auto-hide after 4 seconds
      setTimeout(() => {
        feedbackError.classList.add('hidden');
      }, 4000);
    });
  </script>

</body>
</html>
