<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>02 — Staggered Reveals | Kyle DS Prototypes</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&display=swap" rel="stylesheet">
  <style>
    :root {
      --primitive-neutral-50:  oklch(0.978 0.005 90);
      --primitive-neutral-100: oklch(0.958 0.006 90);
      --primitive-neutral-200: oklch(0.905 0.007 90);
      --primitive-neutral-300: oklch(0.855 0.008 90);
      --primitive-neutral-400: oklch(0.755 0.010 90);
      --primitive-neutral-500: oklch(0.610 0.012 90);
      --primitive-neutral-600: oklch(0.490 0.010 90);
      --primitive-neutral-700: oklch(0.360 0.010 90);
      --primitive-neutral-800: oklch(0.240 0.008 90);
      --primitive-neutral-900: oklch(0.170 0.007 90);
      --primitive-neutral-950: oklch(0.135 0.008 90);
      --primitive-blue-400: oklch(0.630 0.200 260);
      --primitive-blue-500: oklch(0.550 0.220 260);
      --primitive-blue-600: oklch(0.480 0.220 260);
      --bg-page:        var(--primitive-neutral-50);
      --bg-surface:     oklch(0.995 0.002 90);
      --bg-muted:       var(--primitive-neutral-100);
      --text-primary:   var(--primitive-neutral-950);
      --text-secondary: var(--primitive-neutral-600);
      --text-muted:     var(--primitive-neutral-400);
      --border-default: var(--primitive-neutral-200);
      --border-strong:  var(--primitive-neutral-300);
      --accent-blue:   var(--primitive-blue-500);
      --accent-blue-hover:   var(--primitive-blue-600);
      --accent-blue-subtle:  oklch(0.920 0.045 260);
      --text-on-accent: oklch(0.995 0.002 90);
      --motion-instant: 100ms;
      --motion-fast:    160ms;
      --motion-base:    240ms;
      --motion-slow:    360ms;
      --ease-smooth:  cubic-bezier(0.22, 1, 0.36, 1);
      --ease-out:     cubic-bezier(0.16, 1, 0.3, 1);
      --ease-exit:      cubic-bezier(0.4, 0, 1, 1);
      --space-1: 4px; --space-2: 8px; --space-3: 12px;
      --space-4: 16px; --space-6: 24px; --space-8: 32px;
      --space-12: 48px; --space-16: 64px; --space-20: 80px;
      --radius-sm: 6px; --radius-md: 10px; --radius-full: 9999px;
      --radius-lg: 12px;
      --radius-xl: 16px;
      --shadow-md: 0 4px 24px oklch(0 0 0 / 0.08);
    }
    [data-theme="dark"] {
      --bg-page: oklch(0.135 0.010 90);
      --bg-surface: oklch(0.160 0.012 90);
      --bg-muted: oklch(0.205 0.012 90);
      --text-primary: oklch(0.95 0.003 90);
      --text-secondary: oklch(0.65 0.008 90);
      --text-muted: oklch(0.45 0.006 90);
      --border-default: oklch(0.260 0.012 90);
      --border-strong: oklch(0.330 0.012 90);
      --accent-blue: oklch(0.670 0.200 260);
      --accent-blue-hover: oklch(0.720 0.190 260);
      --accent-blue-subtle: oklch(0.250 0.060 260);
      --text-on-accent: oklch(0.995 0.002 90);
      --shadow-md: 0 4px 24px oklch(0 0 0 / 0.3);
    }
    *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Inter', system-ui, -apple-system, sans-serif;
      font-feature-settings: "cv02", "cv03", "cv04", "cv11";
      background: var(--bg-page);
      color: var(--text-primary);
      line-height: 1.6;
      -webkit-font-smoothing: antialiased;
    }
    .page { max-width: 800px; margin: 0 auto; padding: var(--space-12) var(--space-6); }
    .page-header { margin-bottom: var(--space-12); }
    .page-title { font-size: 1.75rem; font-weight: 650; letter-spacing: -0.02em; line-height: 1.2; margin-bottom: var(--space-2); }
    .page-description { color: var(--text-secondary); font-size: 0.9375rem; }

    .section { margin-bottom: var(--space-16); }
    .section-title {
      font-size: 0.8125rem; font-weight: 600; text-transform: uppercase;
      letter-spacing: 0.05em; color: var(--text-secondary); margin-bottom: var(--space-6);
    }

    /* List items */
    .list { display: flex; flex-direction: column; gap: var(--space-3); }
    .list-item {
      display: flex; align-items: center; justify-content: space-between;
      padding: var(--space-4) var(--space-6);
      background: var(--bg-surface);
      border: 1px solid var(--border-default);
      border-radius: var(--radius-md);
      opacity: 0; /* Start hidden, animated by Motion */
    }
    .list-item-content { flex: 1; }
    .list-item-name { font-weight: 550; font-size: 0.9375rem; margin-bottom: 2px; }
    .list-item-desc { font-size: 0.8125rem; color: var(--text-secondary); }
    .list-item-date { font-size: 0.8125rem; color: var(--text-muted); white-space: nowrap; margin-left: var(--space-6); }

    /* Grid cards */
    .grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: var(--space-4); }
    @media (max-width: 640px) { .grid { grid-template-columns: repeat(2, 1fr); } }
    .grid-card {
      padding: var(--space-6);
      background: var(--bg-surface);
      border: 1px solid var(--border-default);
      border-radius: var(--radius-md);
      opacity: 0;
    }
    .grid-card-name { font-weight: 600; font-size: 0.9375rem; margin-bottom: var(--space-1); }
    .grid-card-desc { font-size: 0.8125rem; color: var(--text-secondary); margin-bottom: var(--space-3); }
    .grid-card-date { font-size: 0.75rem; color: var(--text-muted); }

    /* Spring comparison */
    .comparison { display: flex; flex-direction: column; gap: var(--space-8); }
    .comparison-row { }
    .comparison-label {
      font-size: 0.8125rem; font-weight: 600; margin-bottom: var(--space-3);
      display: flex; align-items: center; gap: var(--space-3);
    }
    .comparison-label code {
      font-size: 0.75rem; font-weight: 400; color: var(--text-muted);
      background: var(--bg-muted); padding: 2px 8px; border-radius: var(--radius-sm);
      font-family: 'SF Mono', 'Fira Code', monospace;
    }
    .comparison-items { display: flex; gap: var(--space-2); }
    .comparison-item {
      flex: 1; height: 48px;
      background: var(--accent-blue-subtle);
      border: 1px solid var(--border-default);
      border-radius: var(--radius-sm);
      display: flex; align-items: center; justify-content: center;
      font-size: 0.75rem; color: var(--text-secondary);
      opacity: 0;
    }

    /* Replay button */
    .replay-bar {
      position: fixed; bottom: var(--space-6); left: 50%; transform: translateX(-50%);
      z-index: 100;
    }
    .btn {
      display: inline-flex; align-items: center; gap: var(--space-2);
      padding: var(--space-2) var(--space-6);
      font-family: inherit; font-size: 0.875rem; font-weight: 500;
      background: var(--accent-blue); color: var(--text-on-accent);
      border: none; border-radius: var(--radius-full);
      cursor: pointer; box-shadow: var(--shadow-md);
    }
    .btn:hover { background: var(--accent-blue-hover); }
    .btn:focus-visible { outline: 2px solid var(--accent-blue); outline-offset: 2px; }

    /* Theme toggle */
    .theme-toggle {
      position: fixed; top: var(--space-4); right: var(--space-4); z-index: 100;
      background: var(--bg-surface); border: 1px solid var(--border-default);
      border-radius: var(--radius-full); width: 40px; height: 40px;
      display: flex; align-items: center; justify-content: center;
      cursor: pointer; color: var(--text-secondary);
    }
    .theme-toggle:hover { border-color: var(--border-strong); color: var(--text-primary); }
    .theme-toggle:focus-visible { outline: 2px solid var(--accent-blue); outline-offset: 2px; }
    .theme-toggle .icon-sun, [data-theme="dark"] .theme-toggle .icon-moon { display: none; }
    [data-theme="dark"] .theme-toggle .icon-sun { display: block; }
    .theme-toggle .icon-moon { display: block; }

    /* Legend */
    .legend {
      margin-top: var(--space-16); padding: var(--space-6);
      background: var(--bg-muted); border-radius: var(--radius-md);
      font-size: 0.8125rem; color: var(--text-secondary);
    }
    .legend h3 {
      font-size: 0.75rem; font-weight: 600; text-transform: uppercase;
      letter-spacing: 0.06em; color: var(--text-muted); margin-bottom: var(--space-3);
    }
    .legend-item { display: flex; gap: var(--space-3); padding: var(--space-2) 0; border-bottom: 1px solid var(--border-default); }
    .legend-item:last-child { border-bottom: none; }
    .legend-label { font-weight: 500; color: var(--text-primary); white-space: nowrap; }
  </style>
</head>
<body>
  <button class="theme-toggle" id="theme-toggle" aria-label="Toggle dark mode">
    <svg class="icon-sun" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
    <svg class="icon-moon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
  </button>

  <div class="page">
    <header class="page-header">
      <h1 class="page-title">Recent Projects</h1>
      <p class="page-description">A collection of recent work — demonstrating staggered entry animations with spring physics.</p>
    </header>

    <!-- Section 1: List View -->
    <!-- Design choice: Items stagger with 40ms delay. Spring (500/30) gives snappy, decisive entry.
         Each item translates 8px vertically — just enough motion to feel alive without being dramatic. -->
    <section class="section">
      <h2 class="section-title">List View</h2>
      <div class="list" id="list-view">
        <div class="list-item">
          <div class="list-item-content">
            <div class="list-item-name">Design Token Pipeline</div>
            <div class="list-item-desc">Automated token generation from Figma to CSS custom properties</div>
          </div>
          <span class="list-item-date">2 days ago</span>
        </div>
        <div class="list-item">
          <div class="list-item-content">
            <div class="list-item-name">Analytics Dashboard</div>
            <div class="list-item-desc">Real-time metrics visualization with interactive charts</div>
          </div>
          <span class="list-item-date">1 week ago</span>
        </div>
        <div class="list-item">
          <div class="list-item-content">
            <div class="list-item-name">Component Library v2</div>
            <div class="list-item-desc">Rebuilt with Radix primitives and CVA variant management</div>
          </div>
          <span class="list-item-date">2 weeks ago</span>
        </div>
        <div class="list-item">
          <div class="list-item-content">
            <div class="list-item-name">Marketing Site Refresh</div>
            <div class="list-item-desc">Updated landing pages with new brand identity</div>
          </div>
          <span class="list-item-date">3 weeks ago</span>
        </div>
        <div class="list-item">
          <div class="list-item-content">
            <div class="list-item-name">API Documentation</div>
            <div class="list-item-desc">Interactive API reference with code examples and playground</div>
          </div>
          <span class="list-item-date">1 month ago</span>
        </div>
        <div class="list-item">
          <div class="list-item-content">
            <div class="list-item-name">Mobile App Prototype</div>
            <div class="list-item-desc">Cross-platform prototype exploring gesture-driven navigation</div>
          </div>
          <span class="list-item-date">6 weeks ago</span>
        </div>
      </div>
    </section>

    <!-- Section 2: Grid View -->
    <!-- Design choice: Grid cards stagger at 50ms with a slightly softer spring (400/35).
         Scale starts at 0.98 to add a subtle "growing in" feel alongside the y-translate. -->
    <section class="section">
      <h2 class="section-title">Grid View</h2>
      <div class="grid" id="grid-view">
        <div class="grid-card">
          <div class="grid-card-name">Design Token Pipeline</div>
          <div class="grid-card-desc">Automated token generation from Figma to CSS custom properties via Style Dictionary.</div>
          <div class="grid-card-date">2 days ago</div>
        </div>
        <div class="grid-card">
          <div class="grid-card-name">Analytics Dashboard</div>
          <div class="grid-card-desc">Real-time metrics visualization with interactive filtering and drill-down.</div>
          <div class="grid-card-date">1 week ago</div>
        </div>
        <div class="grid-card">
          <div class="grid-card-name">Component Library v2</div>
          <div class="grid-card-desc">Rebuilt with Radix primitives and CVA variant management.</div>
          <div class="grid-card-date">2 weeks ago</div>
        </div>
        <div class="grid-card">
          <div class="grid-card-name">Marketing Site Refresh</div>
          <div class="grid-card-desc">Updated landing pages with new brand identity and animations.</div>
          <div class="grid-card-date">3 weeks ago</div>
        </div>
        <div class="grid-card">
          <div class="grid-card-name">API Documentation</div>
          <div class="grid-card-desc">Interactive API reference with code examples and playground.</div>
          <div class="grid-card-date">1 month ago</div>
        </div>
        <div class="grid-card">
          <div class="grid-card-name">Mobile App Prototype</div>
          <div class="grid-card-desc">Cross-platform prototype exploring gesture-driven navigation.</div>
          <div class="grid-card-date">6 weeks ago</div>
        </div>
      </div>
    </section>

    <!-- Section 3: Spring Comparison -->
    <!-- Design choice: Side-by-side comparison lets you feel the difference between spring configs.
         Snappy (500/30) is decisive. Standard (400/35) is balanced. Gentle (300/28) is relaxed.
         The same stagger timing (40ms) is used across all three so only the spring feel differs. -->
    <section class="section">
      <h2 class="section-title">Spring Comparison</h2>
      <div class="comparison" id="spring-comparison">
        <div class="comparison-row" data-stiffness="500" data-damping="30">
          <div class="comparison-label">
            Snappy <code>stiffness: 500, damping: 30</code>
          </div>
          <div class="comparison-items">
            <div class="comparison-item">1</div>
            <div class="comparison-item">2</div>
            <div class="comparison-item">3</div>
            <div class="comparison-item">4</div>
            <div class="comparison-item">5</div>
          </div>
        </div>
        <div class="comparison-row" data-stiffness="400" data-damping="35">
          <div class="comparison-label">
            Standard <code>stiffness: 400, damping: 35</code>
          </div>
          <div class="comparison-items">
            <div class="comparison-item">1</div>
            <div class="comparison-item">2</div>
            <div class="comparison-item">3</div>
            <div class="comparison-item">4</div>
            <div class="comparison-item">5</div>
          </div>
        </div>
        <div class="comparison-row" data-stiffness="300" data-damping="28">
          <div class="comparison-label">
            Gentle <code>stiffness: 300, damping: 28</code>
          </div>
          <div class="comparison-items">
            <div class="comparison-item">1</div>
            <div class="comparison-item">2</div>
            <div class="comparison-item">3</div>
            <div class="comparison-item">4</div>
            <div class="comparison-item">5</div>
          </div>
        </div>
      </div>
    </section>

    <!-- Legend -->
    <div class="legend">
      <h3>Animation Reference</h3>
      <div class="legend-item">
        <span class="legend-label">List stagger</span>
        <span>opacity 0→1, y: 8→0, stagger 40ms, spring (500/30 snappy)</span>
      </div>
      <div class="legend-item">
        <span class="legend-label">Grid stagger</span>
        <span>opacity 0→1, y: 12→0, scale: 0.98→1, stagger 50ms, spring (400/35 standard)</span>
      </div>
      <div class="legend-item">
        <span class="legend-label">Spring configs</span>
        <span>Snappy (500/30) — buttons, toggles. Standard (400/35) — modals, cards. Gentle (300/28) — large elements.</span>
      </div>
      <div class="legend-item">
        <span class="legend-label">Library</span>
        <span>Motion v12 vanilla JS via CDN ESM import (no React dependency for prototypes)</span>
      </div>
    </div>
  </div>

  <!-- Replay button -->
  <div class="replay-bar">
    <button class="btn" id="replay-btn">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="1 4 1 10 7 10"/><path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"/></svg>
      Replay all
    </button>
  </div>

  <script>
    document.getElementById('theme-toggle').addEventListener('click', () => {
      document.documentElement.dataset.theme = document.documentElement.dataset.theme === 'dark' ? 'light' : 'dark';
    });
  </script>

  <script type="module">
    import { animate, stagger, spring } from "https://cdn.jsdelivr.net/npm/motion@11/+esm";

    const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

    function resetElements(selector) {
      document.querySelectorAll(selector).forEach(el => {
        el.style.opacity = '0';
        el.style.transform = 'translateY(8px)';
      });
    }

    function animateList() {
      if (prefersReducedMotion) {
        document.querySelectorAll('#list-view .list-item').forEach(el => { el.style.opacity = '1'; el.style.transform = 'none'; });
        return;
      }
      const items = document.querySelectorAll('#list-view .list-item');
      items.forEach(el => { el.style.opacity = '0'; el.style.transform = 'translateY(8px)'; });
      animate(items, { opacity: [0, 1], y: [8, 0] }, {
        delay: stagger(0.04),
        type: spring,
        stiffness: 500,
        damping: 30,
      });
    }

    function animateGrid() {
      if (prefersReducedMotion) {
        document.querySelectorAll('#grid-view .grid-card').forEach(el => { el.style.opacity = '1'; el.style.transform = 'none'; });
        return;
      }
      const cards = document.querySelectorAll('#grid-view .grid-card');
      cards.forEach(el => { el.style.opacity = '0'; el.style.transform = 'translateY(12px) scale(0.98)'; });
      animate(cards, { opacity: [0, 1], y: [12, 0], scale: [0.98, 1] }, {
        delay: stagger(0.05),
        type: spring,
        stiffness: 400,
        damping: 35,
      });
    }

    function animateComparison() {
      if (prefersReducedMotion) {
        document.querySelectorAll('.comparison-item').forEach(el => { el.style.opacity = '1'; el.style.transform = 'none'; });
        return;
      }
      document.querySelectorAll('.comparison-row').forEach(row => {
        const items = row.querySelectorAll('.comparison-item');
        const stiffness = parseInt(row.dataset.stiffness);
        const damping = parseInt(row.dataset.damping);
        items.forEach(el => { el.style.opacity = '0'; el.style.transform = 'translateY(12px)'; });
        animate(items, { opacity: [0, 1], y: [12, 0] }, {
          delay: stagger(0.04),
          type: spring,
          stiffness,
          damping,
        });
      });
    }

    function runAll() {
      animateList();
      setTimeout(animateGrid, 300);
      setTimeout(animateComparison, 700);
    }

    // Initial run
    runAll();

    // Replay
    document.getElementById('replay-btn').addEventListener('click', runAll);
  </script>
</body>
</html>
