<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>03 — Page Transitions | Kyle DS Prototypes</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&display=swap" rel="stylesheet">
  <style>
    :root {
      --primitive-neutral-50:  oklch(0.978 0.005 90);
      --primitive-neutral-100: oklch(0.958 0.006 90);
      --primitive-neutral-200: oklch(0.905 0.007 90);
      --primitive-neutral-300: oklch(0.855 0.008 90);
      --primitive-neutral-400: oklch(0.755 0.010 90);
      --primitive-neutral-600: oklch(0.490 0.010 90);
      --primitive-neutral-950: oklch(0.135 0.008 90);
      --primitive-blue-500: oklch(0.550 0.220 260);
      --primitive-blue-600: oklch(0.480 0.220 260);
      --bg-page: var(--primitive-neutral-50);
      --bg-surface: oklch(0.995 0.002 90);
      --bg-muted: var(--primitive-neutral-100);
      --text-primary: var(--primitive-neutral-950);
      --text-secondary: var(--primitive-neutral-600);
      --text-muted: var(--primitive-neutral-400);
      --border-default: var(--primitive-neutral-200);
      --border-strong: var(--primitive-neutral-300);
      --accent-blue: var(--primitive-blue-500);
      --accent-blue-hover: var(--primitive-blue-600);
      --accent-blue-subtle: oklch(0.920 0.045 260);
      --text-on-accent: oklch(0.995 0.002 90);
      --motion-base: 240ms;
      --ease-out: cubic-bezier(0, 0, 0.2, 1);
      --ease-exit: cubic-bezier(0.4, 0, 1, 1);
      --space-1: 4px; --space-2: 8px; --space-3: 12px;
      --space-4: 16px; --space-6: 24px; --space-8: 32px;
      --space-12: 48px; --space-16: 64px;
      --radius-sm: 6px; --radius-md: 10px; --radius-full: 9999px;
      --radius-lg: 12px;
      --radius-xl: 16px;
    }
    [data-theme="dark"] {
      --bg-page: oklch(0.135 0.010 90);
      --bg-surface: oklch(0.160 0.012 90);
      --bg-muted: oklch(0.205 0.012 90);
      --text-primary: oklch(0.95 0.003 90);
      --text-secondary: oklch(0.65 0.008 90);
      --text-muted: oklch(0.45 0.006 90);
      --border-default: oklch(0.260 0.012 90);
      --border-strong: oklch(0.330 0.012 90);
      --accent-blue: oklch(0.670 0.200 260);
      --accent-blue-hover: oklch(0.720 0.190 260);
      --accent-blue-subtle: oklch(0.250 0.060 260);
      --text-on-accent: oklch(0.995 0.002 90);
    }
    *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Inter', system-ui, -apple-system, sans-serif;
      font-feature-settings: "cv02", "cv03", "cv04", "cv11";
      background: var(--bg-page); color: var(--text-primary);
      line-height: 1.6; -webkit-font-smoothing: antialiased;
    }

    /* View Transition styles */
    @media (prefers-reduced-motion: no-preference) {
      /* Crossfade (default) */
      ::view-transition-old(root) { animation: vt-fade-out 240ms ease-out; }
      ::view-transition-new(root) { animation: vt-fade-in 240ms ease-out; }

      @keyframes vt-fade-out { from { opacity: 1; } to { opacity: 0; } }
      @keyframes vt-fade-in { from { opacity: 0; } to { opacity: 1; } }

      /* Slide transitions — applied via class on <html> */
      .slide-forward::view-transition-old(page-content) {
        animation: vt-slide-out-left 280ms cubic-bezier(0.2, 0, 0, 1);
      }
      .slide-forward::view-transition-new(page-content) {
        animation: vt-slide-in-right 280ms cubic-bezier(0.2, 0, 0, 1);
      }
      .slide-backward::view-transition-old(page-content) {
        animation: vt-slide-out-right 280ms cubic-bezier(0.2, 0, 0, 1);
      }
      .slide-backward::view-transition-new(page-content) {
        animation: vt-slide-in-left 280ms cubic-bezier(0.2, 0, 0, 1);
      }

      @keyframes vt-slide-out-left { from { transform: translateX(0); opacity: 1; } to { transform: translateX(-60px); opacity: 0; } }
      @keyframes vt-slide-in-right { from { transform: translateX(60px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
      @keyframes vt-slide-out-right { from { transform: translateX(0); opacity: 1; } to { transform: translateX(60px); opacity: 0; } }
      @keyframes vt-slide-in-left { from { transform: translateX(-60px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }

      /* Morph — shared element transition */
      .morph::view-transition-old(post-title) { animation: vt-morph-old 300ms cubic-bezier(0.2, 0, 0, 1); }
      .morph::view-transition-new(post-title) { animation: vt-morph-new 300ms cubic-bezier(0.2, 0, 0, 1); }
      @keyframes vt-morph-old { from { opacity: 1; } to { opacity: 0; } }
      @keyframes vt-morph-new { from { opacity: 0; } to { opacity: 1; } }
    }

    .page { max-width: 640px; margin: 0 auto; padding: var(--space-12) var(--space-6); }

    /* Navigation */
    .nav { display: flex; align-items: center; justify-content: space-between; margin-bottom: var(--space-8); gap: var(--space-4); flex-wrap: wrap; }
    .nav-tabs { display: flex; gap: var(--space-1); background: var(--bg-muted); padding: 3px; border-radius: var(--radius-sm); }
    .nav-tab {
      padding: var(--space-1) var(--space-4); font-size: 0.875rem; font-weight: 500;
      background: transparent; color: var(--text-secondary); border: none;
      border-radius: 3px; cursor: pointer; font-family: inherit;
    }
    .nav-tab:hover { color: var(--text-primary); }
    .nav-tab.active { background: var(--bg-surface); color: var(--text-primary); box-shadow: 0 1px 2px oklch(0 0 0 / 0.06); }
    .nav-tab:focus-visible { outline: 2px solid var(--accent-blue); outline-offset: 1px; }

    /* Mode selector */
    .mode-select { display: flex; gap: var(--space-1); }
    .mode-btn {
      padding: 4px var(--space-3); font-size: 0.75rem; font-weight: 500;
      background: var(--bg-surface); color: var(--text-muted); border: 1px solid var(--border-default);
      border-radius: var(--radius-full); cursor: pointer; font-family: inherit;
    }
    .mode-btn.active { background: var(--accent-blue); color: var(--text-on-accent); border-color: var(--accent-blue); }
    .mode-btn:focus-visible { outline: 2px solid var(--accent-blue); outline-offset: 1px; }

    /* Content container */
    .content-area { view-transition-name: page-content; }

    /* Blog index */
    .post-list { display: flex; flex-direction: column; gap: var(--space-4); }
    .post-card {
      padding: var(--space-6); background: var(--bg-surface);
      border: 1px solid var(--border-default); border-radius: var(--radius-md); cursor: pointer;
    }
    .post-card:hover { border-color: var(--border-strong); }
    .post-card:focus-visible { outline: 2px solid var(--accent-blue); outline-offset: 2px; }
    .post-card-title { font-weight: 600; font-size: 1.0625rem; margin-bottom: var(--space-1); }
    .post-card-excerpt { font-size: 0.875rem; color: var(--text-secondary); line-height: 1.5; }
    .post-card-meta { font-size: 0.75rem; color: var(--text-muted); margin-top: var(--space-3); }

    /* Morph title — shared element */
    .morph-title { view-transition-name: post-title; }

    /* Post detail */
    .post-header { margin-bottom: var(--space-8); }
    .post-title { font-size: 1.75rem; font-weight: 650; letter-spacing: -0.02em; line-height: 1.2; margin-bottom: var(--space-2); }
    .post-meta { font-size: 0.8125rem; color: var(--text-muted); margin-bottom: var(--space-6); }
    .post-body p { margin-bottom: var(--space-4); font-size: 0.9375rem; line-height: 1.7; }
    .back-link {
      display: inline-flex; align-items: center; gap: var(--space-2);
      font-size: 0.875rem; color: var(--accent-blue); text-decoration: none;
      font-weight: 500; margin-bottom: var(--space-6); cursor: pointer; border: none; background: none; font-family: inherit;
    }
    .back-link:hover { color: var(--accent-blue-hover); }

    /* About */
    .about-title { font-size: 1.75rem; font-weight: 650; letter-spacing: -0.02em; line-height: 1.2; margin-bottom: var(--space-4); }
    .about-text { font-size: 0.9375rem; line-height: 1.7; color: var(--text-secondary); }
    .about-text p { margin-bottom: var(--space-4); }

    /* Support notice */
    .notice { margin-top: var(--space-8); padding: var(--space-4); background: var(--bg-muted); border-radius: var(--radius-sm); font-size: 0.8125rem; color: var(--text-muted); text-align: center; }

    /* Legend */
    .legend { margin-top: var(--space-16); padding: var(--space-6); background: var(--bg-muted); border-radius: var(--radius-md); font-size: 0.8125rem; color: var(--text-secondary); }
    .legend h3 { font-size: 0.75rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.06em; color: var(--text-muted); margin-bottom: var(--space-3); }
    .legend-item { display: flex; gap: var(--space-3); padding: var(--space-2) 0; border-bottom: 1px solid var(--border-default); }
    .legend-item:last-child { border-bottom: none; }
    .legend-label { font-weight: 500; color: var(--text-primary); white-space: nowrap; }

    .theme-toggle { position: fixed; top: var(--space-4); right: var(--space-4); z-index: 100; background: var(--bg-surface); border: 1px solid var(--border-default); border-radius: var(--radius-full); width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; cursor: pointer; color: var(--text-secondary); }
    .theme-toggle:hover { border-color: var(--border-strong); color: var(--text-primary); }
    .theme-toggle .icon-sun, [data-theme="dark"] .theme-toggle .icon-moon { display: none; }
    [data-theme="dark"] .theme-toggle .icon-sun { display: block; }
    .theme-toggle .icon-moon { display: block; }
  </style>
</head>
<body>
  <button class="theme-toggle" id="theme-toggle" aria-label="Toggle dark mode">
    <svg class="icon-sun" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
    <svg class="icon-moon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
  </button>

  <div class="page">
    <nav class="nav">
      <div class="nav-tabs">
        <button class="nav-tab active" data-page="blog">Blog</button>
        <button class="nav-tab" data-page="about">About</button>
      </div>
      <div class="mode-select">
        <button class="mode-btn active" data-mode="crossfade">Crossfade</button>
        <button class="mode-btn" data-mode="slide">Slide</button>
        <button class="mode-btn" data-mode="morph">Morph</button>
      </div>
    </nav>

    <div class="content-area" id="content-area">
      <!-- Blog index is the default view -->
    </div>

    <div class="notice" id="support-notice" style="display: none;"></div>

    <div class="legend">
      <h3>Transition Reference</h3>
      <div class="legend-item"><span class="legend-label">Crossfade</span><span>Default View Transition: opacity out/in, 240ms ease-out. Zero JS cost for the animation itself.</span></div>
      <div class="legend-item"><span class="legend-label">Slide</span><span>Custom @keyframes: translateX ±60px with opacity. 280ms standard easing. Direction-aware (forward/backward).</span></div>
      <div class="legend-item"><span class="legend-label">Morph</span><span>Shared element via view-transition-name on post titles. Browser interpolates position, size, and style between states.</span></div>
      <div class="legend-item"><span class="legend-label">Fallback</span><span>If View Transitions API is unsupported, content swaps instantly with no animation.</span></div>
    </div>
  </div>

  <script>
    document.getElementById('theme-toggle').addEventListener('click', () => {
      document.documentElement.dataset.theme = document.documentElement.dataset.theme === 'dark' ? 'light' : 'dark';
    });

    // Page content templates
    const pages = {
      blog: `
        <div class="post-list">
          <div class="post-card" tabindex="0" data-post="warm-neutrals">
            <div class="post-card-title morph-title" style="view-transition-name: post-title-1;">The Case for Warm Neutrals</div>
            <div class="post-card-excerpt">Why cream backgrounds create more welcoming interfaces than pure white. The subtle warmth of oklch-defined neutrals changes how users perceive your entire design.</div>
            <div class="post-card-meta">5 min read &middot; January 2026</div>
          </div>
          <div class="post-card" tabindex="0" data-post="spring-physics">
            <div class="post-card-title morph-title" style="view-transition-name: post-title-2;">Spring Physics in UI Design</div>
            <div class="post-card-excerpt">How natural motion transforms digital interactions into something tactile. Stiffness, damping, and mass create animations that feel inevitable.</div>
            <div class="post-card-meta">8 min read &middot; December 2025</div>
          </div>
          <div class="post-card" tabindex="0" data-post="typography-interface">
            <div class="post-card-title morph-title" style="view-transition-name: post-title-3;">Typography as Interface</div>
            <div class="post-card-excerpt">When type does the heavy lifting, everything else can step back. How size, weight, and spacing create hierarchy without color or ornament.</div>
            <div class="post-card-meta">6 min read &middot; November 2025</div>
          </div>
        </div>
      `,

      'warm-neutrals': `
        <button class="back-link" data-back="blog">&larr; Back to blog</button>
        <article>
          <header class="post-header">
            <h1 class="post-title morph-title" style="view-transition-name: post-title-1;">The Case for Warm Neutrals</h1>
            <div class="post-meta">5 min read &middot; January 2026</div>
          </header>
          <div class="post-body">
            <p>Pure white backgrounds carry an institutional coldness that most designers never question. We default to #ffffff because it feels "clean," but clean and welcoming are different things. The best digital experiences — Anthropic, Notion, Linear — all share a quiet secret: their whites aren't white.</p>
            <p>When you shift a background from pure white to oklch(0.985 0.003 90), something remarkable happens. The warmth is almost imperceptible on its own, but it changes the relationship between every element on the page. Text feels less harsh. Borders feel less clinical. The entire interface relaxes by a single degree.</p>
            <p>This is the foundation of our design system: a cream base at oklch(0.985 0.003 90) with a hue of 90° — placing it firmly in warm-yellow territory rather than cool-blue. The chroma of 0.003 is barely perceptible, which is exactly the point. You shouldn't notice the warmth. You should notice that everything feels right.</p>
          </div>
        </article>
      `,

      'spring-physics': `
        <button class="back-link" data-back="blog">&larr; Back to blog</button>
        <article>
          <header class="post-header">
            <h1 class="post-title morph-title" style="view-transition-name: post-title-2;">Spring Physics in UI Design</h1>
            <div class="post-meta">8 min read &middot; December 2025</div>
          </header>
          <div class="post-body">
            <p>Every animation you've admired in a well-crafted app — the snap of a toggle, the settle of a modal, the bounce of a drag-and-drop — is likely driven by spring physics rather than traditional easing curves. Springs don't have fixed durations. They resolve based on physical properties: stiffness, damping, and mass.</p>
            <p>This is why spring animations feel natural. A stiff spring with high damping (500/30) creates snappy, decisive motion perfect for buttons and toggles. A softer spring with less damping (300/28) creates gentle, flowing motion for page transitions and large element reveals.</p>
            <p>The critical insight is that springs maintain momentum on interruption. If a user triggers a new animation before the current one finishes, the spring carries the existing velocity forward. There's no jarring reset, no awkward pause. Motion just flows.</p>
          </div>
        </article>
      `,

      'typography-interface': `
        <button class="back-link" data-back="blog">&larr; Back to blog</button>
        <article>
          <header class="post-header">
            <h1 class="post-title morph-title" style="view-transition-name: post-title-3;">Typography as Interface</h1>
            <div class="post-meta">6 min read &middot; November 2025</div>
          </header>
          <div class="post-body">
            <p>The most restrained design systems in the world — Linear, Vercel, Stripe — share a common principle: hierarchy through typography, not decoration. Size, weight, and spacing do the work that color gradients, icons, and borders try to do elsewhere.</p>
            <p>A heading at weight 650 with -0.02em letter-spacing commands attention. Body text at weight 400 with 1.6 line-height invites reading. A caption at 0.75rem in secondary color provides context without competing. Three typographic variables, infinite hierarchy.</p>
            <p>This approach demands a disciplined type scale. We use the Minor Third ratio (1.2) for product interfaces where space is precious, and the Major Third (1.25) for marketing pages where impact matters. Both scales use fluid sizing via clamp() to adapt gracefully across viewports.</p>
          </div>
        </article>
      `,

      about: `
        <div>
          <h1 class="about-title">About this project</h1>
          <div class="about-text">
            <p>This is a personal design system built through iterative exploration. Every token, component, and interaction is the result of careful refinement — starting from research, moving through visual sampling, and arriving at decisions through direct comparison.</p>
            <p>The system is built on React 19 with Next.js, styled with Tailwind CSS v4, and animated with Motion (formerly Framer Motion). Every color is defined in oklch. Every animation respects reduced-motion preferences. Every component starts from shadcn/ui and is customized — never rebuilt from scratch.</p>
            <p>The aesthetic north star: Anthropic's warm institutional minimalism, Linear's typographic confidence, and Arc Browser's controlled playfulness. Typography does the heavy lifting. Whitespace is generous. Motion is purposeful and never exceeds 360ms.</p>
          </div>
        </div>
      `
    };

    const contentArea = document.getElementById('content-area');
    const notice = document.getElementById('support-notice');
    let currentPage = 'blog';
    let currentMode = 'crossfade';
    let pageHistory = ['blog'];

    // Check View Transitions API support
    const supportsViewTransitions = 'startViewTransition' in document;
    if (!supportsViewTransitions) {
      notice.textContent = 'Your browser does not support the View Transitions API. Content swaps are instant (no animation). Try Chrome 111+ or Safari 18+.';
      notice.style.display = 'block';
    }

    function navigateTo(page, direction = 'forward') {
      const swap = () => {
        contentArea.innerHTML = pages[page];
        currentPage = page;
        updateTabs();
        bindContentEvents();
      };

      if (!supportsViewTransitions || window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
        swap();
        return;
      }

      // Apply direction class for slide mode
      document.documentElement.classList.remove('slide-forward', 'slide-backward', 'morph');
      if (currentMode === 'slide') {
        document.documentElement.classList.add(direction === 'forward' ? 'slide-forward' : 'slide-backward');
      } else if (currentMode === 'morph') {
        document.documentElement.classList.add('morph');
      }

      const transition = document.startViewTransition(swap);
      transition.finished.then(() => {
        document.documentElement.classList.remove('slide-forward', 'slide-backward', 'morph');
      });
    }

    function updateTabs() {
      document.querySelectorAll('.nav-tab').forEach(tab => {
        const tabPage = tab.dataset.page;
        tab.classList.toggle('active', tabPage === currentPage || (tabPage === 'blog' && currentPage !== 'about'));
      });
    }

    function bindContentEvents() {
      // Post card clicks
      document.querySelectorAll('.post-card').forEach(card => {
        card.addEventListener('click', () => {
          pageHistory.push(currentPage);
          navigateTo(card.dataset.post, 'forward');
        });
        card.addEventListener('keydown', (e) => {
          if (e.key === 'Enter') { pageHistory.push(currentPage); navigateTo(card.dataset.post, 'forward'); }
        });
      });
      // Back links
      document.querySelectorAll('.back-link').forEach(link => {
        link.addEventListener('click', () => {
          const prev = pageHistory.pop() || 'blog';
          navigateTo(prev, 'backward');
        });
      });
    }

    // Nav tab clicks
    document.querySelectorAll('.nav-tab').forEach(tab => {
      tab.addEventListener('click', () => {
        const page = tab.dataset.page;
        if (page === currentPage) return;
        pageHistory = [page];
        navigateTo(page, page === 'about' ? 'forward' : 'backward');
      });
    });

    // Mode selector
    document.querySelectorAll('.mode-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('.mode-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        currentMode = btn.dataset.mode;
      });
    });

    // Initial render
    navigateTo('blog');
  </script>
</body>
</html>
