<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>08 — Scroll-Driven Animations | Kyle DS Prototypes</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&display=swap" rel="stylesheet">
  <style>
    :root {
      --primitive-neutral-50:  oklch(0.978 0.005 90);
      --primitive-neutral-100: oklch(0.958 0.006 90);
      --primitive-neutral-200: oklch(0.905 0.007 90);
      --primitive-neutral-300: oklch(0.855 0.008 90);
      --primitive-neutral-400: oklch(0.755 0.010 90);
      --primitive-neutral-600: oklch(0.490 0.010 90);
      --primitive-neutral-950: oklch(0.135 0.008 90);
      --primitive-blue-500: oklch(0.550 0.220 260);
      --primitive-blue-600: oklch(0.480 0.220 260);
      --bg-page: var(--primitive-neutral-50);
      --bg-surface: oklch(0.995 0.002 90);
      --bg-muted: var(--primitive-neutral-100);
      --text-primary: var(--primitive-neutral-950);
      --text-secondary: var(--primitive-neutral-600);
      --text-muted: var(--primitive-neutral-400);
      --border-default: var(--primitive-neutral-200);
      --border-strong: var(--primitive-neutral-300);
      --accent-blue: var(--primitive-blue-500);
      --accent-blue-hover: var(--primitive-blue-600);
      --accent-blue-subtle: oklch(0.920 0.045 260);
      --text-on-accent: oklch(0.995 0.002 90);
      --space-2: 8px; --space-3: 12px; --space-4: 16px;
      --space-6: 24px; --space-8: 32px; --space-12: 48px;
      --space-16: 64px; --space-20: 80px;
      --radius-sm: 6px; --radius-md: 10px; --radius-full: 9999px;
      --radius-lg: 12px;
      --radius-xl: 16px;
    }
    [data-theme="dark"] {
      --bg-page: oklch(0.135 0.010 90);
      --bg-surface: oklch(0.160 0.012 90);
      --bg-muted: oklch(0.205 0.012 90);
      --text-primary: oklch(0.95 0.003 90);
      --text-secondary: oklch(0.65 0.008 90);
      --text-muted: oklch(0.45 0.006 90);
      --border-default: oklch(0.260 0.012 90);
      --border-strong: oklch(0.330 0.012 90);
      --accent-blue: oklch(0.670 0.200 260);
      --accent-blue-hover: oklch(0.720 0.190 260);
      --accent-blue-subtle: oklch(0.250 0.060 260);
      --text-on-accent: oklch(0.995 0.002 90);
    }
    *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Inter', system-ui, -apple-system, sans-serif;
      font-feature-settings: "cv02", "cv03", "cv04", "cv11";
      background: var(--bg-page); color: var(--text-primary);
      line-height: 1.7; -webkit-font-smoothing: antialiased;
    }

    :focus-visible {
      outline: 2px solid var(--accent-blue);
      outline-offset: 2px;
    }

    /* Progress bar */
    .progress-bar {
      position: fixed; top: 0; left: 0; right: 0;
      height: 2px; background: var(--accent-blue);
      transform-origin: left; z-index: 100;
      transform: scaleX(0);
    }

    @supports (animation-timeline: scroll()) {
      @media (prefers-reduced-motion: no-preference) {
        .progress-bar {
          animation: grow-x linear;
          animation-timeline: scroll();
        }
        @keyframes grow-x { from { transform: scaleX(0); } to { transform: scaleX(1); } }

        .reveal {
          animation: reveal-up linear both;
          animation-timeline: view();
          animation-range: entry 0% entry 40%;
        }
        @keyframes reveal-up {
          from { opacity: 0; transform: translateY(24px); }
          to { opacity: 1; transform: translateY(0); }
        }

        .divider-animated {
          animation: grow-line linear both;
          animation-timeline: view();
          animation-range: entry 0% entry 60%;
        }
        @keyframes grow-line {
          from { transform: scaleX(0); }
          to { transform: scaleX(1); }
        }

        .parallax-bg {
          animation: parallax-slow linear both;
          animation-timeline: scroll();
        }
        @keyframes parallax-slow {
          from { transform: translateY(0); }
          to { transform: translateY(-60px); }
        }
      }
    }

    /* Counter animation with @property */
    @property --num-components { syntax: "<integer>"; initial-value: 0; inherits: false; }
    @property --num-tokens { syntax: "<integer>"; initial-value: 0; inherits: false; }
    @property --num-presets { syntax: "<integer>"; initial-value: 0; inherits: false; }

    @supports (animation-timeline: view()) {
      @media (prefers-reduced-motion: no-preference) {
        .counter-1 {
          animation: count-components linear both;
          animation-timeline: view();
          animation-range: entry 0% cover 40%;
          counter-reset: num var(--num-components);
        }
        .counter-1::after { content: counter(num); }
        @keyframes count-components { from { --num-components: 0; } to { --num-components: 47; } }

        .counter-2 {
          animation: count-tokens linear both;
          animation-timeline: view();
          animation-range: entry 0% cover 40%;
          counter-reset: num var(--num-tokens);
        }
        .counter-2::after { content: counter(num); }
        @keyframes count-tokens { from { --num-tokens: 0; } to { --num-tokens: 12; } }

        .counter-3 {
          animation: count-presets linear both;
          animation-timeline: view();
          animation-range: entry 0% cover 40%;
          counter-reset: num var(--num-presets);
        }
        .counter-3::after { content: counter(num); }
        @keyframes count-presets { from { --num-presets: 0; } to { --num-presets: 4; } }
      }
    }

    .page { max-width: 680px; margin: 0 auto; padding: 0 var(--space-6); }

    /* Hero */
    .hero {
      min-height: 80vh; display: flex; flex-direction: column; justify-content: center;
      position: relative; overflow: hidden; padding: var(--space-20) 0;
    }
    .hero-bg {
      position: absolute; top: 20%; right: -10%;
      width: 300px; height: 300px; border-radius: 50%;
      background: var(--accent-blue-subtle); opacity: 0.6;
    }
    .hero-title {
      font-size: clamp(2.5rem, 6vw, 3.5rem); font-weight: 700;
      letter-spacing: -0.03em; line-height: 1.1; margin-bottom: var(--space-4);
      position: relative; z-index: 1;
    }
    .hero-subtitle {
      font-size: 1.125rem; color: var(--text-secondary); max-width: 480px;
      position: relative; z-index: 1;
    }

    /* Sections */
    .section { padding: var(--space-20) 0; }
    .section-title {
      font-size: 1.5rem; font-weight: 650; letter-spacing: -0.02em;
      line-height: 1.2; margin-bottom: var(--space-4);
    }
    .section p { font-size: 1.0625rem; color: var(--text-secondary); margin-bottom: var(--space-4); }

    /* Divider */
    .divider {
      height: 1px; background: var(--border-default); margin: 0;
      transform-origin: center;
    }

    /* Stats */
    .stats-row { display: grid; grid-template-columns: repeat(3, 1fr); gap: var(--space-8); padding: var(--space-12) 0; text-align: center; }
    .stat-value {
      font-size: 2.5rem; font-weight: 700; letter-spacing: -0.03em;
      color: var(--accent-blue); line-height: 1;
    }
    .stat-label { font-size: 0.875rem; color: var(--text-muted); margin-top: var(--space-2); }

    /* Fallback for no @property or no scroll-timeline */
    .counter-fallback { display: none; }
    @supports not (animation-timeline: view()) {
      .counter-1::after, .counter-2::after, .counter-3::after { display: none; }
      .counter-fallback { display: inline; }
    }

    /* Browser notice */
    .notice {
      padding: var(--space-4); background: var(--accent-blue-subtle);
      border-radius: var(--radius-md); font-size: 0.8125rem;
      color: var(--text-secondary); text-align: center; margin: var(--space-8) 0;
    }

    /* Legend */
    .legend { padding: var(--space-6); background: var(--bg-muted); border-radius: var(--radius-md); font-size: 0.8125rem; color: var(--text-secondary); margin: var(--space-12) 0; }
    .legend h3 { font-size: 0.75rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.06em; color: var(--text-muted); margin-bottom: var(--space-3); }
    .legend-item { display: flex; gap: var(--space-3); padding: var(--space-2) 0; border-bottom: 1px solid var(--border-default); }
    .legend-item:last-child { border-bottom: none; }
    .legend-label { font-weight: 500; color: var(--text-primary); white-space: nowrap; }

    .theme-toggle { position: fixed; top: var(--space-4); right: var(--space-4); z-index: 100; background: var(--bg-surface); border: 1px solid var(--border-default); border-radius: var(--radius-full); width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; cursor: pointer; color: var(--text-secondary); }
    .theme-toggle:hover { border-color: var(--border-strong); color: var(--text-primary); }
    .theme-toggle .icon-sun, [data-theme="dark"] .theme-toggle .icon-moon { display: none; }
    [data-theme="dark"] .theme-toggle .icon-sun { display: block; }
    .theme-toggle .icon-moon { display: block; }
  </style>
</head>
<body>
  <div class="progress-bar"></div>

  <button class="theme-toggle" id="theme-toggle" aria-label="Toggle dark mode">
    <svg class="icon-sun" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
    <svg class="icon-moon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
  </button>

  <div class="page">
    <!-- Hero with parallax background -->
    <section class="hero">
      <div class="hero-bg parallax-bg"></div>
      <h1 class="hero-title">Building with intention</h1>
      <p class="hero-subtitle">A design system shaped by restraint, animated by purpose. Scroll to explore the philosophy behind every decision.</p>
    </section>

    <hr class="divider divider-animated">

    <section class="section reveal">
      <h2 class="section-title">The philosophy of restraint</h2>
      <p>The most powerful design decisions are the ones you don't make. Every gradient rejected, every shadow removed, every animation shortened is a choice to let content breathe. Restraint isn't minimalism for its own sake — it's the discipline of knowing that every element must earn its place.</p>
      <p>We start from zero and add only what's necessary. A warm cream background instead of harsh white. Near-black text instead of true black. A single accent color used surgically — on buttons, links, and active states. Everything else is typography and space.</p>
    </section>

    <hr class="divider divider-animated">

    <section class="section reveal">
      <h2 class="section-title">Color as communication</h2>
      <p>oklch changes everything. Where hex and HSL force you to think in abstract numbers, oklch maps directly to human perception. Lightness actually means lightness. Chroma actually means saturation. Two colors at the same lightness value will actually appear equally bright to human eyes.</p>
      <p>This perceptual accuracy makes building accessible color systems straightforward rather than guesswork. Our warm neutrals sit at hue 90° with barely perceptible chroma (0.003–0.020). The accent lives at hue 270° with high chroma (0.24) — vivid enough to command attention without overwhelming the page.</p>
    </section>

    <hr class="divider divider-animated">

    <!-- Stats with CSS counter animation -->
    <section class="stats-row reveal">
      <div>
        <div class="stat-value"><span class="counter-1"></span><span class="counter-fallback">47</span></div>
        <div class="stat-label">Components</div>
      </div>
      <div>
        <div class="stat-value"><span class="counter-2"></span><span class="counter-fallback">12</span></div>
        <div class="stat-label">Color tokens</div>
      </div>
      <div>
        <div class="stat-value"><span class="counter-3"></span><span class="counter-fallback">4</span></div>
        <div class="stat-label">Motion presets</div>
      </div>
    </section>

    <hr class="divider divider-animated">

    <section class="section reveal">
      <h2 class="section-title">Typography carries weight</h2>
      <p>In a system that avoids decoration, type becomes the primary tool for creating hierarchy. Weight 650 for headings, 400 for body, tight letter-spacing at large sizes, generous line-height at reading sizes. Two fonts — one sans, one mono — are all you need when you use them with precision.</p>
      <p>Fluid type scaling via clamp() ensures that hierarchy adapts gracefully across viewports. A heading that commands attention on a desktop display should feel equally authoritative on a mobile screen — just at an appropriate size.</p>
    </section>

    <hr class="divider divider-animated">

    <section class="section reveal">
      <h2 class="section-title">Spacing creates rhythm</h2>
      <p>The 8px grid is invisible, but its effect is felt everywhere. When every margin, padding, and gap aligns to a consistent scale, the page develops a visual rhythm that the eye follows effortlessly. Consistency in spacing communicates care and intention.</p>
      <p>We use a constrained scale — 4, 8, 12, 16, 24, 32, 48, 64, 80 — to prevent "spacing soup." When designers choose from a limited palette, decisions become faster and results become more cohesive. The grid doesn't limit creativity; it channels it.</p>
    </section>

    <hr class="divider divider-animated">

    <section class="section reveal">
      <h2 class="section-title">Motion earns trust</h2>
      <p>Every animation in this system exists for a reason: to show causality, maintain spatial orientation, or provide feedback. A modal scales from 0.96 because it's "growing" into view. A toast slides up from below because it's emerging from off-screen. A button shrinks on press because physical objects compress under force.</p>
      <p>Default to no motion. Add animation only when prefers-reduced-motion is set to no-preference. Keep durations under 360ms. Use springs for movement, ease-out for color. These constraints don't limit expressiveness — they ensure that every animation enhances rather than distracts.</p>
    </section>

    <div class="notice" id="support-notice"></div>

    <div class="legend">
      <h3>Animation Reference</h3>
      <div class="legend-item"><span class="legend-label">Progress bar</span><span>animation-timeline: scroll(), scaleX 0→1. Runs on compositor thread — zero main-thread cost.</span></div>
      <div class="legend-item"><span class="legend-label">Section reveal</span><span>animation-timeline: view(), entry 0%→40%. opacity 0→1, translateY 24→0px.</span></div>
      <div class="legend-item"><span class="legend-label">Parallax</span><span>animation-timeline: scroll(), translateY 0→-60px. Background moves slower than foreground.</span></div>
      <div class="legend-item"><span class="legend-label">Divider grow</span><span>animation-timeline: view(), scaleX 0→1 from center. Grows as it enters viewport.</span></div>
      <div class="legend-item"><span class="legend-label">Counters</span><span>@property registered --num, animation-timeline: view(). Browser interpolates integer values.</span></div>
      <div class="legend-item"><span class="legend-label">Browser support</span><span>Chrome 115+, Safari 26+. Firefox experimental. Wrapped in @supports for graceful fallback.</span></div>
    </div>
  </div>

  <script>
    document.getElementById('theme-toggle').addEventListener('click', () => {
      document.documentElement.dataset.theme = document.documentElement.dataset.theme === 'dark' ? 'light' : 'dark';
    });

    // Check support
    const notice = document.getElementById('support-notice');
    if (!CSS.supports('animation-timeline: scroll()')) {
      notice.textContent = 'Your browser does not fully support CSS scroll-driven animations. Content displays statically. For the full experience, use Chrome 115+ or Safari 26+.';
    }
  </script>
</body>
</html>
